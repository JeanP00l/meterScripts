# Скрипты для автоматизации учета показаний счетчиков

Набор инструментов для ускорения работы с системой учета показаний счетчиков. Скрипты автоматизируют заполнение форм, ввод данных и загрузку фотографий, экономя ваше время.

## Описание

Скрипты работают в браузере и помогают автоматизировать рутинные операции при проверке счетчиков. Они автоматически заполняют повторяющиеся данные, позволяют вводить информацию голосом и загружать фотографии одним кликом.

## Требования

- Браузер Google Chrome
- Расширение User JavaScript and CSS
- Доступ к сайту meter.printecs.com

## Установка
- Установить [User JavaScript and CSS](https://chromewebstore.google.com/detail/user-javascript-and-css/nbhcbdghjpllgmfilhnhkllmkecfmpld)
- Зайти в настройку расширений
- 
  <img width="331" height="576" alt="extensionJS" src="https://github.com/user-attachments/assets/cee2a36a-67d3-4751-acca-f8adccf03f97" />

- Найти User JavaScript and CSS и зайти в "Сведения"

  <img width="405" height="211" alt="image" src="https://github.com/user-attachments/assets/92fd594f-3207-4b7c-8055-92de7d178074" />

- Включить "Разрешить пользовательские скрипты"

  <img width="678" height="336" alt="image" src="https://github.com/user-attachments/assets/929312d6-a770-4d65-8748-5dac5c560e1c" />

- Перейти в "Параметры расширений"

  <img width="683" height="212" alt="image" src="https://github.com/user-attachments/assets/d34b7cbd-160e-4ab9-9ec4-693c77b86805" />

- Нажать на кнопку настройки слева

  <img width="275" height="217" alt="image" src="https://github.com/user-attachments/assets/d8417696-1d62-44a6-9589-f05ce1804955" />

- Выбрать "Загрузить JSON"

  <img width="321" height="265" alt="image" src="https://github.com/user-attachments/assets/c7d3b826-b443-4b53-bc48-1297f8349901" />

- Выбрать скачанный json файл из [релизов](https://github.com/JeanP00l/meterScripts/releases) и согласиться с изменениями

Готово.



## Скрипты

### 1. Менеджер общей панели настроек

Центральная панель для управления всеми скриптами. Позволяет настроить все инструменты в одном месте.

**Основные функции:**
- Единая панель настроек для всех скриптов
- Можно перемещать панель по экрану и сворачивать
- Настройки сохраняются автоматически

### 2. Автозаполнение

Автоматизирует заполнение форм при проверке счетчиков. Позволяет быстро переходить между записями и автоматически заполнять повторяющиеся данные.

**Основные функции:**
- Автоматический переход к следующей или предыдущей записи
- Автоматическое увеличение номера пломбы на единицу
- Шаблон номера пломбы - можно задать начальный номер, который будет автоматически подставляться
- Быстрый выбор года ДЮП/ГЕП с кнопкой "Просрочен"
- Автоматический расчет даты следующей поверки
- Горячая клавиша для быстрого сохранения и перехода (по умолчанию `/`)

### 3. Голосовой набор показаний

Позволяет вводить данные голосом, что значительно ускоряет заполнение форм.

**Основные функции:**
- Ввод показаний счетчика голосом (просто произнесите числа)
- Изменение типа счетчика командой "Счетчик [тип]"
- Проверка года выпуска командой "Выпуск [год]"
- Ввод номера пломбы командой "Пломба [номер]" (работает с шаблоном)
- Поиск квартиры командой "Адрес [номер]"
- Изменение разрядности командой "Разрядность [число]"
- Горячая клавиша для активации (по умолчанию `F2`)

**Примеры команд:**
- Произнесите числа для ввода показаний
- "Счетчик эс6" - изменить тип счетчика
- "Выпуск 2015" - проверить год изготовления
- "Пломба 85" - ввести номер пломбы
- "Адрес 38" - найти квартиру №38

### 4. Загрузка фото

Упрощает загрузку фотографий счетчиков - просто перетащите файлы на страницу.

**Основные функции:**
- Перетаскивание фотографий прямо на страницу
- Можно загружать несколько фото сразу
- Работает автоматически, настройки не требуются

### 5. Автозагрузка фото в акты

Автоматически находит и загружает фотографии счетчиков в акты проверки по номеру счетчика.

**Основные функции:**
- Автоматически определяет номер счетчика из акта
- Находит фотографии по номеру счетчика в выбранной папке
- Автоматически загружает найденные фото
- Синхронизация фото с телефона - можно загрузить фото с Android-устройства через локальный сервер
- Генерация QR-кода для подключения телефона
- Проверяет, не загружены ли фото уже, чтобы не дублировать

**Как использовать:**
1. Выберите папку с фотографиями в настройках скрипта
2. Для синхронизации с телефоном: запустите программу синхронизации на компьютере, нажмите "Синхронизация фото" в настройках, отсканируйте QR-код на телефоне
3. При открытии акта проверки фото загрузятся автоматически

### 6. Подсчет результатов

Автоматически считает количество счетчиков и загруженных записей.

**Основные функции:**
- Автоматически проходит по всем адресам и квартирам
- Считает общее количество счетчиков
- Считает количество загруженных счетчиков
- Показывает результаты в панели настроек

## Настройка

После установки скриптов на странице появится панель "Настройки скриптов" в правой части экрана.

**Что можно настроить:**
- Горячие клавиши для каждого скрипта (можно изменить стандартные клавиши)
- Шаблон номера пломбы в разделе "Автозаполнение" (например, "054" - будет автоматически подставляться)
- Шаблоны антимагнитных пломб (можно добавить свои варианты)
- Папку с фотографиями для автозагрузки фото
- Включение/выключение каждого скрипта

Все настройки сохраняются автоматически и будут работать при следующем посещении сайта.

## Версия

**Текущая версия**: 0.11.0

### История версий

**v0.11.0** (2025-12-12):
- Добавлена синхронизация фото с телефона - можно загружать фотографии с Android-устройства через локальный сервер
- Добавлен шаблон номера пломбы в настройках скрипта "Автозаполнение" - можно задать начальный номер, который будет автоматически подставляться
- Улучшена обработка ошибок при автозагрузке фото
- Обновлена инструкция по синхронизации фото

**v0.10.3** (2025-01-27):
- Добавлен шаблон заполнения номера пломбы (максимум 5 цифр)
- Улучшена функция обработки команды "Пломба" - теперь поддерживает русские числительные и умную логику дополнения/замены

**v0.10.2** (2025-01-27):
- Добавлена автоматическая проверка обновлений
- Добавлено уведомление о новой версии
- Добавлена кнопка "Проверить обновления" в настройках

**v0.10.1** (2025-01-27):
- Исправлена ошибка расчета даты следующей поверки

**v0.10.0**:
- Первая версия с полной документацией
